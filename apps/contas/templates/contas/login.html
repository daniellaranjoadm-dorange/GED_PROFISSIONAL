{% extends "documentos/base.html" %}
{% load static %}

{% block title %}D‚ÄôOR@NGE Enterprise ‚Ä¢ Login{% endblock %}

{# Login sem sidebar/topbar #}
{% block sidebar %}{% endblock %}
{% block topbar %}{% endblock %}

{% block extra_head %}
<style>
/* ====== RESET S√ì DO LOGIN (carrega apenas nesta p√°gina) ====== */
html, body { height: 100%; margin: 0; padding: 0; }
body { overflow: hidden; }

/* Fundo full-screen (n√£o depende do .layout/.content) */
body{
  background:
    radial-gradient(circle at 20% 20%,rgba(255,138,0,.20),transparent 50%),
    radial-gradient(circle at 80% 80%,rgba(0,200,255,.20),transparent 55%),
    linear-gradient(135deg,#0a0e16 0%,#0e1524 40%,#090c12 100%);
  background-size: cover;
  color:#e2e8f0;
}

/* Textura */
body::before{
  content:"";
  position: fixed;
  inset: -50%;
  background: url('https://www.transparenttextures.com/patterns/black-linen.png');
  opacity: .06;
  pointer-events:none;
  z-index: 0;
}

/* ====== NEUTRALIZA O LAYOUT DO APP NESTA P√ÅGINA ====== */
.layout, .content, .content-inner, .page-area{
  background: transparent !important;
}

.content{
  margin-left: 0 !important;
  width: 100% !important;
  max-width: none !important;
}

.content-inner{
  padding: 0 !important;
  min-height: 100vh;
}

.page-area{
  min-height: 100vh;
  display:flex;
  align-items:center;
  justify-content:center;
  flex-direction:column;
  padding: 32px 16px !important;
  position: relative;
  z-index: 1; /* acima do body::before */
}

/* ====== SEU DESIGN DO LOGIN ====== */
*{box-sizing:border-box;font-family:"Inter",system-ui;}

@keyframes float{
  0%{transform:translateY(0px)}
  50%{transform:translateY(-6px)}
  100%{transform:translateY(0px)}
}

/* Card */
.login-card{
  width: 440px;
  max-width: 92%;
  padding: 38px 32px 32px;
  border-radius: 22px;
  backdrop-filter: blur(22px);
  background: rgba(12,16,26,.64);
  border: 1px solid rgba(255,255,255,.06);
  box-shadow: 0 0 40px rgba(0,200,255,.14), 0 0 120px rgba(255,138,0,.18);
  animation: float 6s infinite ease-in-out alternate;
  position: relative;
  overflow:hidden;
}

.login-card::before{
  content:"";
  position:absolute;
  inset:-40%;
  background: radial-gradient(circle at top, rgba(0,200,255,.35), transparent 70%);
  opacity:.30;
  pointer-events:none;
}

.logo-box{text-align:center;margin-bottom:18px;}
.logo{width:170px;filter:drop-shadow(0 0 8px rgba(255,140,0,.55));}

.title{
  text-align:center;
  font-size:1.7rem;
  font-weight:700;
  margin-bottom:4px;
  background:linear-gradient(90deg,#ff8c00,#ffcc6b);
  -webkit-background-clip:text;
  color:transparent;
}
.subtitle{text-align:center;font-size:.9rem;color:#9ca3af;margin-bottom:22px;}

.field{margin-bottom:18px;}
.login-card label{font-size:.9rem;margin-bottom:6px;display:block;color:#dce3ec;}
.login-card input{
  width:100%;
  padding:11px 14px;
  border-radius:12px;
  font-size:1rem;
  border:1px solid rgba(255,255,255,.10);
  background:rgba(0,0,0,.30);
  color:#fff;
  outline:none;
  transition:.25s;
}
.login-card input:focus{
  border-color:#00d4ff;
  box-shadow:0 0 12px rgba(0,212,255,.45);
  transform:scale(1.02);
}

.toggle-senha{
  position:absolute;
  right:16px;
  top: 38px;
  font-size:14px;
  color:#ffbb44;
  cursor:pointer;
  user-select:none;
  opacity:.85;
  transition:.2s;
}
.toggle-senha:hover{opacity:1;}

.btn-login{
  width:100%;
  padding:12px;
  border-radius:999px;
  border:none;
  margin-top:6px;
  background:linear-gradient(90deg,#ff8c00,#ffbe2c);
  color:#0d0d0d;
  font-weight:700;
  font-size:1rem;
  cursor:pointer;
  transition:.25s;
  box-shadow:0 0 18px rgba(255,140,0,.4);
}
.btn-login:hover{transform:translateY(-2px);filter:brightness(1.1);}
.btn-login:active{transform:translateY(0);}

.link-forgot{
  text-align:right;
  font-size:.82rem;
  margin-top:6px;
}
.link-forgot a{
  color:#66e0ff;
  text-decoration:none;
  transition:.2s;
}
.link-forgot a:hover{color:#8ff6ff;text-shadow:0 0 8px rgba(0,255,255,.65);}

.footer{
  text-align:center;
  margin-top:18px;
  font-size:.78rem;
  color:#7c8599;
}

/* Alerts do Django (base) */
#alert-container{
  width: 440px;
  max-width: 92%;
  margin: 0 auto 12px;
}
.alert{ border-radius:12px; }
</style>
{% endblock %}

{% block content %}
<div class="login-card">
  <div class="logo-box">
    <img src="{% static 'img/logo.png' %}" class="logo" alt="D‚ÄôOR@NGE">
  </div>

  <h1 class="title">GED üî∂ Enterprise</h1>
  <p class="subtitle">Acesse com suas credenciais corporativas</p>

  <form method="post">{% csrf_token %}
    <div class="field">
      <label for="id_username">Usu√°rio</label>
      <input id="id_username" type="text" name="username" placeholder="seu.usuario" required autofocus>
    </div>

    <div class="field" style="position:relative">
      <label for="id_password">Senha</label>
      <input id="id_password" type="password" name="password" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢" required>
      <span class="toggle-senha" onclick="toggleSenha()">üëÅ</span>
    </div>

    <button class="btn-login" type="submit">Entrar</button>

    <div class="link-forgot">
      <a href="#" onclick="alert('Fun√ß√£o dispon√≠vel na vers√£o SaaS com email corporativo.'); return false;">
        Esqueci minha senha
      </a>
    </div>
  </form>
</div>

<p class="footer">¬© {% now "Y" %} D‚ÄôOR@NGE Enterprise ‚Äî Gest√£o Documental Naval</p>
{% endblock %}

{% block extra_js %}
<script>
function toggleSenha(){
  const f = document.getElementById("id_password");
  if (!f) return;
  f.type = (f.type === "password") ? "text" : "password";
}
</script>
{% endblock %}
